<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>GeoNet – J.S Aerospace</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#0b0f1a;color:#fff}
header{padding:20px;text-align:center;font-size:26px;font-weight:bold}
section{padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:15px}
.card{background:#141a2e;border-radius:12px;padding:15px;box-shadow:0 0 15px rgba(0,0,0,.4)}
.card h3{margin:0 0 10px}
.state{padding:4px 8px;border-radius:6px;font-size:12px}
.PLANNED{background:#1e90ff}
.NET{background:#f0ad4e}
.LAUNCHED{background:#28a745}
.CANCELLED{background:#dc3545}
.gallery img, .gallery iframe{width:100%;border-radius:10px}
.version{position:fixed;bottom:10px;right:10px;font-size:12px;opacity:.6}
</style>
</head>
<body>

<header>GeoNet – J.S Aerospace</header>

<section id="info">
<h2>Información</h2>
<div class="grid" id="infoBox"></div>
</section>

<section>
<h2>Lanzamientos</h2>
<div class="grid" id="launches"></div>
</section>

<section>
<h2>Galería</h2>
<div class="grid gallery" id="gallery"></div>
</section>

<div class="version">v1.5</div>

<script type="module">
import {initializeApp} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import {getFirestore,collection,getDocs,doc,getDoc} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const app = initializeApp({
  apiKey: "TU_API_KEY",
  authDomain: "geonet-js-aerospace.firebaseapp.com",
  projectId: "geonet-js-aerospace"
});
const db = getFirestore(app);

// Información
const infoSnap = await getDoc(doc(db,"Config","info"));
const infoBox = document.getElementById("infoBox");
if(infoSnap.exists()){
  const d = infoSnap.data();
  for(const k in d){
    infoBox.innerHTML += `<div class="card"><h3>${k}</h3><p>${d[k]}</p></div>`;
  }
}

// Lanzamientos
const launchSnap = await getDocs(collection(db,"launches"));
const launches = document.getElementById("launches");
launchSnap.forEach(l=>{
  const d=l.data();
  let dateDisplay = "";
  if(d.tipo==="NET"){
    dateDisplay = d.net;
  } else if(d.fecha){
    const localDate = new Date(d.fecha);
    dateDisplay = localDate.toLocaleString();
  }
  launches.innerHTML+=`
  <div class="card">
    <h3>${d.nombre}</h3>
    <span class="state ${d.estado}">${d.estado}</span>
    <p>${dateDisplay}</p>
    <p>${d.carga}</p>
  </div>`;
});

// Galería
const galSnap = await getDocs(collection(db,"Gallery"));
const gallery=document.getElementById("gallery");
galSnap.forEach(g=>{
  const u=g.data().url;
  if(u.includes("youtube")||u.includes("drive")){
    gallery.innerHTML+=`<iframe src="${u}" allowfullscreen></iframe>`;
  }else{
    gallery.innerHTML+=`<img src="${u}">`;
  }
});
</script>
</body>
</html>